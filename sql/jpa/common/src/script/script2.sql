CREATE TABLE VIRTUALUSERTABLE (
		user VARCHAR(64) DEFAULT '' NOT NULL,
		DOMAIN VARCHAR(255) DEFAULT '' NOT NULL,
		TARGET_ADDRESS VARCHAR(255) DEFAULT '' NOT NULL
	);

CREATE TABLE SUBSCRIPTION (
		ID BIGINT DEFAULT GENERATED_BY_DEFAULT NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		MAILBOX VARCHAR(255) NOT NULL,
		USERNAME VARCHAR(255) NOT NULL
	);

CREATE TABLE JAMESUSER (
		NAME VARCHAR(255) NOT NULL,
		ALG VARCHAR(255),
		PASSWORD VARCHAR(255),
		VERSION INTEGER
	);

CREATE TABLE BAYESIANANALYSIS_MESSAGECOUNTS (
		HAMCOUNT INTEGER DEFAULT 0 NOT NULL,
		SPAMCOUNT INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE BAYESIANANALYSIS_SPAM (
		TOKEN VARCHAR(128) NOT NULL,
		OCCURRENCES INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE MAILBOX (
		MAILBOXID BIGINT DEFAULT GENERATED_BY_DEFAULT NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		LASTUID BIGINT,
		MESSAGECOUNT INTEGER,
		NAME VARCHAR(255),
		SIZE BIGINT,
		UIDVALIDITY BIGINT
	);

CREATE TABLE MESSAGE_HEADER (
		MESSAGE_ID BIGINT,
		HEADERS_ID BIGINT
	);

CREATE TABLE BAYESIANANALYSIS_HAM (
		TOKEN VARCHAR(128) NOT NULL,
		OCCURRENCES INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE PROPERTY (
		ID BIGINT DEFAULT GENERATED_BY_DEFAULT NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		LINE INTEGER,
		LOCALNAME VARCHAR(255),
		NAMESPACE VARCHAR(255),
		VALUE VARCHAR(255)
	);

CREATE TABLE MESSAGE (
		ID BIGINT DEFAULT GENERATED_BY_DEFAULT NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		BODYSTARTOCTET INTEGER,
		CONTENTOCTETS BIGINT,
		MEDIATYPE VARCHAR(255),
		SUBTYPE VARCHAR(255),
		TEXTUALLINECOUNT BIGINT,
		CONTENT BLOB(2147483647)
	);

CREATE TABLE MEMBERSHIP (
		MAILBOXID BIGINT NOT NULL,
		UID BIGINT NOT NULL,
		ANSWERED SMALLINT,
		DELETED SMALLINT,
		DRAFT SMALLINT,
		FLAGGED SMALLINT,
		INTERNALDATE TIMESTAMP,
		RECENT SMALLINT,
		SEEN SMALLINT,
		SIZE INTEGER,
		MESSAGE_ID BIGINT
	);

CREATE TABLE DOMAIN (
		DOMAIN VARCHAR(100) DEFAULT '' NOT NULL
	);

CREATE TABLE MESSAGE_PROPERTY (
		MESSAGE_ID BIGINT,
		PROPERTIES_ID BIGINT
	);

CREATE TABLE HEADER (
		ID BIGINT DEFAULT GENERATED_BY_DEFAULT NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		FIELD VARCHAR(1024),
		LINENUMBER INTEGER,
		VALUE VARCHAR(10240)
	);

CREATE UNIQUE INDEX SQL100611121912050 ON MAILBOX (null);

CREATE UNIQUE INDEX SQL100611121912600 ON PROPERTY (null);

CREATE INDEX SQL100611121913280 ON MESSAGE_PROPERTY (null);

CREATE UNIQUE INDEX SQL100611121912160 ON MEMBERSHIP (null);

CREATE UNIQUE INDEX SQL100611121912320 ON MESSAGE (null);

CREATE UNIQUE INDEX SQL100611121911910 ON JAMESUSER (null);

CREATE UNIQUE INDEX SQL100611121839600 ON BAYESIANANALYSIS_SPAM (null);

CREATE INDEX SQL100611121913070 ON MESSAGE_HEADER (null);

CREATE INDEX SQL100611121912990 ON MEMBERSHIP (null);

CREATE INDEX SQL100611121913160 ON MESSAGE_HEADER (null);

CREATE UNIQUE INDEX SQL100611121912740 ON SUBSCRIPTION (null);

CREATE INDEX SQL100611121913440 ON MESSAGE_PROPERTY (null);

CREATE UNIQUE INDEX SQL100611121911780 ON HEADER (null);

CREATE UNIQUE INDEX SQL100611121912741 ON SUBSCRIPTION (null);

CREATE UNIQUE INDEX SQL100611121839320 ON BAYESIANANALYSIS_HAM (null);

CREATE UNIQUE INDEX SQL100611121834520 ON VIRTUALUSERTABLE (null);

ALTER TABLE BAYESIANANALYSIS_HAM ADD CONSTRAINT SQL100611121839320 PRIMARY KEY (TOKEN);

ALTER TABLE HEADER ADD CONSTRAINT SQL100611121911780 PRIMARY KEY (ID);

ALTER TABLE PROPERTY ADD CONSTRAINT SQL100611121912600 PRIMARY KEY (ID);

ALTER TABLE VIRTUALUSERTABLE ADD CONSTRAINT SQL100611121834520 PRIMARY KEY (user, DOMAIN);

ALTER TABLE MESSAGE ADD CONSTRAINT SQL100611121912320 PRIMARY KEY (ID);

ALTER TABLE JAMESUSER ADD CONSTRAINT SQL100611121911910 PRIMARY KEY (NAME);

ALTER TABLE MEMBERSHIP ADD CONSTRAINT SQL100611121912160 PRIMARY KEY (MAILBOXID, UID);

ALTER TABLE MAILBOX ADD CONSTRAINT SQL100611121912050 PRIMARY KEY (MAILBOXID);

ALTER TABLE SUBSCRIPTION ADD CONSTRAINT SQL100611121912740 PRIMARY KEY (ID);

ALTER TABLE BAYESIANANALYSIS_SPAM ADD CONSTRAINT SQL100611121839600 PRIMARY KEY (TOKEN);

ALTER TABLE MESSAGE_PROPERTY ADD CONSTRAINT SQL100611121913280 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_HEADER ADD CONSTRAINT SQL100611121913160 FOREIGN KEY (HEADERS_ID)
	REFERENCES HEADER (ID);

ALTER TABLE MEMBERSHIP ADD CONSTRAINT SQL100611121912990 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_HEADER ADD CONSTRAINT SQL100611121913070 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_PROPERTY ADD CONSTRAINT SQL100611121913440 FOREIGN KEY (PROPERTIES_ID)
	REFERENCES PROPERTY (ID);


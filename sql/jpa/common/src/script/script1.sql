CREATE TABLE SUBSCRIPTION (
		ID BIGINT NOT NULL,
		MAILBOX VARCHAR(255) NOT NULL,
		USERNAME VARCHAR(255) NOT NULL
	);

CREATE TABLE OPENJPA_SEQUENCE_TABLE (
		ID SMALLINT NOT NULL,
		SEQUENCE_VALUE BIGINT
	);

CREATE TABLE MESSAGE_HEADER (
		MESSAGE_ID BIGINT,
		HEADERS_ID BIGINT
	);

CREATE TABLE MESSAGE (
		ID BIGINT NOT NULL,
		BODYSTARTOCTET INTEGER,
		CONTENTOCTETS BIGINT,
		MEDIATYPE VARCHAR(255),
		SUBTYPE VARCHAR(255),
		TEXTUALLINECOUNT BIGINT,
		CONTENT BLOB(2147483647)
	);

CREATE TABLE DOMAIN (
		DOMAIN VARCHAR(100) DEFAULT '' NOT NULL
	);

CREATE TABLE BAYESIANANALYSIS_MESSAGECOUNTS (
		HAMCOUNT INTEGER DEFAULT 0 NOT NULL,
		SPAMCOUNT INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE BAYESIANANALYSIS_HAM (
		TOKEN VARCHAR(128) NOT NULL,
		OCCURRENCES INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE JAMESUSER (
		NAME VARCHAR(255) NOT NULL,
		ALG VARCHAR(255),
		PASSWORD VARCHAR(255),
		VERSION INTEGER
	);

CREATE TABLE PROPERTY (
		ID BIGINT NOT NULL,
		LINE INTEGER,
		LOCALNAME VARCHAR(255),
		NAMESPACE VARCHAR(255),
		VALUE VARCHAR(255)
	);

CREATE TABLE VIRTUALUSERTABLE (
		user VARCHAR(64) DEFAULT '' NOT NULL,
		DOMAIN VARCHAR(255) DEFAULT '' NOT NULL,
		TARGET_ADDRESS VARCHAR(255) DEFAULT '' NOT NULL
	);

CREATE TABLE BAYESIANANALYSIS_SPAM (
		TOKEN VARCHAR(128) NOT NULL,
		OCCURRENCES INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE MEMBERSHIP (
		MAILBOXID BIGINT NOT NULL,
		UID BIGINT NOT NULL,
		ANSWERED SMALLINT,
		DELETED SMALLINT,
		DRAFT SMALLINT,
		FLAGGED SMALLINT,
		INTERNALDATE TIMESTAMP,
		RECENT SMALLINT,
		SEEN SMALLINT,
		SIZE INTEGER,
		MESSAGE_ID BIGINT
	);

CREATE TABLE MESSAGE_PROPERTY (
		MESSAGE_ID BIGINT,
		PROPERTIES_ID BIGINT
	);

CREATE TABLE HEADER (
		ID BIGINT NOT NULL,
		FIELD VARCHAR(1024),
		LINENUMBER INTEGER,
		VALUE VARCHAR(10240)
	);

CREATE TABLE MAILBOX (
		MAILBOXID BIGINT NOT NULL,
		LASTUID BIGINT,
		MESSAGECOUNT INTEGER,
		NAME VARCHAR(255),
		SIZE BIGINT,
		UIDVALIDITY BIGINT
	);

CREATE INDEX SQL100611114055130 ON MESSAGE_PROPERTY (null);

CREATE UNIQUE INDEX SQL100611114054400 ON PROPERTY (null);

CREATE UNIQUE INDEX SQL100611114053690 ON MAILBOX (null);

CREATE INDEX SQL100611114054760 ON MEMBERSHIP (null);

CREATE UNIQUE INDEX SQL100611114054571 ON SUBSCRIPTION (null);

CREATE UNIQUE INDEX SQL100611114053550 ON JAMESUSER (null);

CREATE INDEX SQL100611114054960 ON MESSAGE_HEADER (null);

CREATE INDEX SQL100611114054870 ON MESSAGE_HEADER (null);

CREATE UNIQUE INDEX SQL100611114054270 ON OPENJPA_SEQUENCE_TABLE (null);

CREATE UNIQUE INDEX SQL100611114053410 ON HEADER (null);

CREATE UNIQUE INDEX SQL100611114053850 ON MEMBERSHIP (null);

CREATE UNIQUE INDEX SQL100611114010220 ON VIRTUALUSERTABLE (null);

CREATE UNIQUE INDEX SQL100611114054020 ON MESSAGE (null);

CREATE INDEX SQL100611114055040 ON MESSAGE_PROPERTY (null);

CREATE UNIQUE INDEX SQL100611114054570 ON SUBSCRIPTION (null);

CREATE UNIQUE INDEX SQL100611114016180 ON BAYESIANANALYSIS_SPAM (null);

CREATE UNIQUE INDEX SQL100611114016020 ON BAYESIANANALYSIS_HAM (null);

ALTER TABLE VIRTUALUSERTABLE ADD CONSTRAINT SQL100611114010220 PRIMARY KEY (user, DOMAIN);

ALTER TABLE BAYESIANANALYSIS_SPAM ADD CONSTRAINT SQL100611114016180 PRIMARY KEY (TOKEN);

ALTER TABLE HEADER ADD CONSTRAINT SQL100611114053410 PRIMARY KEY (ID);

ALTER TABLE MESSAGE ADD CONSTRAINT SQL100611114054020 PRIMARY KEY (ID);

ALTER TABLE PROPERTY ADD CONSTRAINT SQL100611114054400 PRIMARY KEY (ID);

ALTER TABLE MAILBOX ADD CONSTRAINT SQL100611114053690 PRIMARY KEY (MAILBOXID);

ALTER TABLE MEMBERSHIP ADD CONSTRAINT SQL100611114053850 PRIMARY KEY (MAILBOXID, UID);

ALTER TABLE SUBSCRIPTION ADD CONSTRAINT SQL100611114054570 PRIMARY KEY (ID);

ALTER TABLE BAYESIANANALYSIS_HAM ADD CONSTRAINT SQL100611114016020 PRIMARY KEY (TOKEN);

ALTER TABLE OPENJPA_SEQUENCE_TABLE ADD CONSTRAINT SQL100611114054270 PRIMARY KEY (ID);

ALTER TABLE JAMESUSER ADD CONSTRAINT SQL100611114053550 PRIMARY KEY (NAME);

ALTER TABLE MEMBERSHIP ADD CONSTRAINT SQL100611114054760 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_HEADER ADD CONSTRAINT SQL100611114054960 FOREIGN KEY (HEADERS_ID)
	REFERENCES HEADER (ID);

ALTER TABLE MESSAGE_HEADER ADD CONSTRAINT SQL100611114054870 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_PROPERTY ADD CONSTRAINT SQL100611114055130 FOREIGN KEY (PROPERTIES_ID)
	REFERENCES PROPERTY (ID);

ALTER TABLE MESSAGE_PROPERTY ADD CONSTRAINT SQL100611114055040 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);


CREATE TABLE MESSAGE_HEADER (
		MESSAGE_ID BIGINT,
		HEADERS_ID BIGINT
	);

CREATE TABLE MESSAGE_PROPERTY (
		MESSAGE_ID BIGINT,
		PROPERTIES_ID BIGINT
	);

CREATE TABLE SUBSCRIPTION (
		ID BIGINT NOT NULL,
		MAILBOX VARCHAR(255) NOT NULL,
		USERNAME VARCHAR(255) NOT NULL
	);

CREATE TABLE MESSAGE (
		ID BIGINT NOT NULL,
		BODYSTARTOCTET INTEGER,
		CONTENTOCTETS BIGINT,
		MEDIATYPE VARCHAR(255),
		SUBTYPE VARCHAR(255),
		TEXTUALLINECOUNT BIGINT,
		CONTENT BLOB(2147483647)
	);

CREATE TABLE DOMAIN (
		DOMAIN VARCHAR(100) DEFAULT '' NOT NULL
	);

CREATE TABLE JAMESUSER (
		NAME VARCHAR(255) NOT NULL,
		ALG VARCHAR(255),
		PASSWORD VARCHAR(255),
		VERSION INTEGER
	);

CREATE TABLE MAILBOX (
		MAILBOXID BIGINT NOT NULL,
		LASTUID BIGINT,
		NAME VARCHAR(255) NOT NULL,
		NAMESPACE VARCHAR(255) NOT NULL,
		UIDVALIDITY BIGINT,
		USER0 VARCHAR(255)
	);

CREATE TABLE MEMBERSHIP (
		MAILBOXID BIGINT NOT NULL,
		UID BIGINT NOT NULL,
		ANSWERED SMALLINT,
		DELETED SMALLINT,
		DRAFT SMALLINT,
		FLAGGED SMALLINT,
		INTERNALDATE TIMESTAMP,
		RECENT SMALLINT,
		SEEN SMALLINT,
		SIZE INTEGER,
		MESSAGE_ID BIGINT
	);

CREATE TABLE BAYESIANANALYSIS_MESSAGECOUNTS (
		HAMCOUNT INTEGER DEFAULT 0 NOT NULL,
		SPAMCOUNT INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE BAYESIANANALYSIS_SPAM (
		TOKEN VARCHAR(128) NOT NULL,
		OCCURRENCES INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE BAYESIANANALYSIS_HAM (
		TOKEN VARCHAR(128) NOT NULL,
		OCCURRENCES INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE HEADER (
		ID BIGINT NOT NULL,
		FIELD VARCHAR(1024),
		LINENUMBER INTEGER,
		VALUE VARCHAR(10240)
	);

CREATE TABLE VIRTUALUSERTABLE (
		user VARCHAR(64) DEFAULT '' NOT NULL,
		DOMAIN VARCHAR(255) DEFAULT '' NOT NULL,
		TARGET_ADDRESS VARCHAR(255) DEFAULT '' NOT NULL
	);

CREATE TABLE PROPERTY (
		ID BIGINT NOT NULL,
		LINE INTEGER,
		LOCALNAME VARCHAR(255),
		NAMESPACE VARCHAR(255),
		VALUE VARCHAR(255)
	);

CREATE TABLE OPENJPA_SEQUENCE_TABLE (
		ID SMALLINT NOT NULL,
		SEQUENCE_VALUE BIGINT
	);

CREATE INDEX SQL100725162155210 ON MESSAGE_HEADER (null);

CREATE UNIQUE INDEX SQL100725162154880 ON MAILBOX (null);

CREATE UNIQUE INDEX SQL100725162155080 ON PROPERTY (null);

CREATE UNIQUE INDEX SQL100725162154830 ON JAMESUSER (null);

CREATE INDEX SQL100725162155240 ON MESSAGE_HEADER (null);

CREATE INDEX SQL100725162155170 ON MEMBERSHIP (null);

CREATE UNIQUE INDEX SQL100725161955490 ON VIRTUALUSERTABLE (null);

CREATE UNIQUE INDEX SQL100725162155111 ON SUBSCRIPTION (null);

CREATE UNIQUE INDEX SQL100725162154930 ON MEMBERSHIP (null);

CREATE UNIQUE INDEX SQL100725162000490 ON BAYESIANANALYSIS_HAM (null);

CREATE UNIQUE INDEX SQL100725162154970 ON MESSAGE (null);

CREATE INDEX SQL100725162155270 ON MESSAGE_PROPERTY (null);

CREATE UNIQUE INDEX SQL100725162154730 ON HEADER (null);

CREATE UNIQUE INDEX SQL100725162155050 ON OPENJPA_SEQUENCE_TABLE (null);

CREATE UNIQUE INDEX SQL100725162155110 ON SUBSCRIPTION (null);

CREATE INDEX SQL100725162155300 ON MESSAGE_PROPERTY (null);

CREATE UNIQUE INDEX SQL100725162000860 ON BAYESIANANALYSIS_SPAM (null);

ALTER TABLE MESSAGE ADD CONSTRAINT SQL100725162154970 PRIMARY KEY (ID);

ALTER TABLE PROPERTY ADD CONSTRAINT SQL100725162155080 PRIMARY KEY (ID);

ALTER TABLE VIRTUALUSERTABLE ADD CONSTRAINT SQL100725161955490 PRIMARY KEY (user, DOMAIN);

ALTER TABLE BAYESIANANALYSIS_HAM ADD CONSTRAINT SQL100725162000490 PRIMARY KEY (TOKEN);

ALTER TABLE JAMESUSER ADD CONSTRAINT SQL100725162154830 PRIMARY KEY (NAME);

ALTER TABLE BAYESIANANALYSIS_SPAM ADD CONSTRAINT SQL100725162000860 PRIMARY KEY (TOKEN);

ALTER TABLE SUBSCRIPTION ADD CONSTRAINT SQL100725162155110 PRIMARY KEY (ID);

ALTER TABLE MEMBERSHIP ADD CONSTRAINT SQL100725162154930 PRIMARY KEY (MAILBOXID, UID);

ALTER TABLE HEADER ADD CONSTRAINT SQL100725162154730 PRIMARY KEY (ID);

ALTER TABLE OPENJPA_SEQUENCE_TABLE ADD CONSTRAINT SQL100725162155050 PRIMARY KEY (ID);

ALTER TABLE MAILBOX ADD CONSTRAINT SQL100725162154880 PRIMARY KEY (MAILBOXID);

ALTER TABLE MESSAGE_PROPERTY ADD CONSTRAINT SQL100725162155270 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_PROPERTY ADD CONSTRAINT SQL100725162155300 FOREIGN KEY (PROPERTIES_ID)
	REFERENCES PROPERTY (ID);

ALTER TABLE MESSAGE_HEADER ADD CONSTRAINT SQL100725162155210 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MEMBERSHIP ADD CONSTRAINT SQL100725162155170 FOREIGN KEY (MESSAGE_ID)
	REFERENCES MESSAGE (ID);

ALTER TABLE MESSAGE_HEADER ADD CONSTRAINT SQL100725162155240 FOREIGN KEY (HEADERS_ID)
	REFERENCES HEADER (ID);

